<ng-container *ngIf="!isAdmin()">
  <div class="form">
    <form [formGroup]="form" (submit)="submit()">
      <mat-form-field class="example-full-width">
        <mat-label>Title</mat-label>
        <input formControlName="title" matInput placeholder="title">
      </mat-form-field>

      <mat-form-field class="example-full-width">
        <mat-label>Task</mat-label>
        <input formControlName="task" matInput placeholder="task">
      </mat-form-field>

      <mat-form-field>
        <mat-label>Choose a date</mat-label>
        <input matInput formControlName="dateline" [matDatepicker]="picker">
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>

      <mat-form-field>
        <mat-label>A priority</mat-label>
        <mat-select formControlName="priority">
          @for (i of priority; track i) {
          <mat-option [value]="i.viewValue">{{i.viewValue}}</mat-option>
          }
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Status</mat-label>
        <mat-select formControlName="status">
          @for (i of status; track i) {
          <mat-option [value]="i.viewValue">{{i.viewValue}}</mat-option>
          }
        </mat-select>
      </mat-form-field>

      <mat-form-field>
        <mat-label>Workers</mat-label>
        <mat-select formControlName="worker">
          @for (user of users; track user) {
          <mat-option [value]="user.login">{{user.login}}</mat-option>
          }
        </mat-select>
      </mat-form-field>
      <button [disabled]="!form.valid" mat-raised-button color="primary">Submit</button>
    </form>
  </div>
  <app-asana-list #asanaListComponent></app-asana-list>
</ng-container>
<ng-container *ngIf="isAdmin()">
  <h1>superperson</h1>
  <h2>All tasks </h2>
  @for (i of tasks; track i) {
  <div> {{i | json}} </div>
  }

</ng-container>